---
title: "abracadabra ã‚ãªãŸã®TSã«é­”æ³•ã‚’ã‹ã‘ã¾ã—ã‚‡ã†"
emoji: "ğŸ”®"
type: "tech"
topics: ["typescript","vscode","javascript"]
published: false
publication_name: "gmomedia"
---
## ã¯ã˜ã‚ã«

:::message
ä¿®æ­£ã‚„è¿½åŠ ç­‰ã¯ã‚³ãƒ¡ãƒ³ãƒˆã¾ãŸã¯GitHubã§ç·¨é›†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚
:::

## Abracadabraã¨ã¯

Abracadabraã¯ã€VSCodeä¸Šã§TypeScriptï¼ˆãŠã‚ˆã³JavaScriptï¼‰ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’åŠ¹ç‡çš„ã‹ã¤é«˜é€Ÿã«è¡Œã†ãŸã‚ã®æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚å˜ç´”ãªå¤‰æ•°æŠ½å‡ºã‹ã‚‰è¤‡é›‘ãªæ¡ä»¶å¼ã®å¤‰å½¢ã€å‹å®šç¾©ã®æ˜ç¢ºåŒ–ã‚„forãƒ«ãƒ¼ãƒ—ã®å¤‰æ›ãªã©ã€ã€Œå…·ä½“çš„ã«ä½•ãŒã§ãã‚‹ã®ã‹ã€ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚

## AbracadabraãŒæä¾›ã™ã‚‹ä¸»ãªæ©Ÿèƒ½ç¾¤

ã“ã“ã§ã¯ç‰¹ã«æœ‰ç”¨ãªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‡¦ç†ã‚’ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«ç´¹ä»‹ã—ã¾ã™ã€‚ã™ã¹ã¦VSCodeã®Quick Fixï¼ˆAlt + Enterï¼‰ã‚„ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã€ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’ä»‹ã—ã¦å³æ™‚ã«å®Ÿè¡Œå¯èƒ½ã§ã™ã€‚

### å¤‰æ•°ãƒ»é–¢æ•°ã®æŠ½å‡ºãƒ»ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–

#### Extract Variable / Inline Variable

ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸå®šæ•°ã‚„è¤‡é›‘ãªå¼ã‚’å¤‰æ•°ã«æŠ½å‡ºã—ã€æ„å‘³ã®ã‚ã‚‹å¤‰æ•°åã‚’ä»˜ä¸ã™ã‚‹ã“ã¨ã§ã‚³ãƒ¼ãƒ‰ã®æ„å›³ã‚’æ˜ç¢ºåŒ–ã—ã¾ã™ã€‚ä¸€æ–¹ã§ã€å†—é•·ã«ãªã£ãŸå¤‰æ•°ãŒã‚ã‚Œã°ã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–ã«ã‚ˆã£ã¦ã‚³ãƒ¼ãƒ‰ã‚’ç°¡æ½”ã«ã§ãã¾ã™ã€‚

Before

```typescript
console.log(10 * 2);
```

After

```typescript
const doubled = 10 * 2;
console.log(doubled);
```

æŠ½å‡ºå¾Œã€å†—é•·ã¨åˆ¤æ–­ã—ãŸã‚‰ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–ã‚‚ä¸€å›ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§å¯èƒ½ã§ã™ã€‚

#### Inline Function

ä¸è¦ã«ãªã£ãŸå°é–¢æ•°ã‚’ã€ãã®å ´ã§å±•é–‹ã—ã¦å‘¼ã³å‡ºã—ç®‡æ‰€ã¸ç›´æ¥é–¢æ•°æœ¬ä½“ã‚’æŒ¿å…¥ã§ãã¾ã™ã€‚

Before

```typescript
function isEven(n: number) {
  return n % 2 === 0;
}
const values = [1,2,3,4].filter(isEven);
```

After (Inline Function)

```typescript
const values = [1,2,3,4].filter(n => n % 2 === 0);
```

#### Extract Type

å‹æ³¨é‡ˆã«ç›´æ¥åŸ‹ã‚è¾¼ã¾ã‚ŒãŸè¤‡é›‘ãªå‹å®šç¾©ã‚’å¤–éƒ¨ã¸åˆ‡ã‚Šå‡ºã™ã“ã¨ã§ã€å‹ã‚·ã‚°ãƒãƒãƒ£ã‚’æ˜å¿«ã«ã—ã¾ã™ã€‚

Before

```typescript
function process(user: { name: string; age: number }) {
  // ...
}
```

After (Extract Type)

```typescript
type User = { name: string; age: number };

function process(user: User) {
  // ...
}
```

### æ¡ä»¶å¼ã‚„ãƒ­ã‚¸ãƒƒã‚¯æ§‹é€ ã®ç°¡ç•¥åŒ–ãƒ»å¤‰å½¢

#### Invert Boolean Logic

è¤‡é›‘ãªå¦å®šæ¡ä»¶ã‚„ifæ–‡ã‚’De Morganã®æ³•å‰‡ã«æ²¿ã£ã¦åè»¢ã—ã€ç†è§£ã—ã‚„ã™ã„æ¡ä»¶å¼ã¸å¤‰å½¢ã—ã¾ã™ã€‚

Before

```typescript
if (!(isReady && hasPermission)) {
  return;
}
doSomething();
```

After (Invert Boolean Logic)

```typescript
if (!isReady || !hasPermission) {
  return;
}
doSomething();
```

#### Remove Redundant Else / Simplify Boolean / Simplify Ternary

ä¸è¦ãªelseã‚’å–ã‚Šé™¤ã„ãŸã‚Šã€æ¡ä»¶å¼ã‚„ä¸‰é …æ¼”ç®—å­ã‚’ç°¡ç´ åŒ–ã—ãŸã‚Šã—ã¾ã™ã€‚

Before

```typescript
if (flag) {
  doA();
} else {
  return doB();
}
```

After (Remove Redundant Else)

```typescript
if (flag) {
  doA();
}
return doB();
```

#### Flip If/Else / Flip Ternary / Flip Operator

if/elseã®æ¡ä»¶ã‚’é€†è»¢ã•ã›ãŸã‚Šã€ä¸‰é …æ¼”ç®—å­ã®åˆ†å²ã‚’å…¥ã‚Œæ›¿ãˆãŸã‚Šã€===æ¼”ç®—å­ã®å·¦å³ã‚’é€†è»¢ï¼ˆYodaæ¡ä»¶ï¼‰ã™ã‚‹ãªã©ã€ãƒ­ã‚¸ãƒƒã‚¯ã‚’è‡ªåœ¨ã«å¤‰å½¢ã§ãã¾ã™ã€‚

Before (Flip If/Else)

```typescript
if (count > 10) {
  console.log("Too many");
} else {
  console.log("OK");
}
```

After

```typescript
if (count <= 10) {
  console.log("OK");
} else {
  console.log("Too many");
}
```

#### Convert If/Else to Ternary / Convert Ternary to If/Else

å†—é•·ãªif/elseã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªä¸‰é …æ¼”ç®—å­ã¸ã€ã‚ã‚‹ã„ã¯ä¸‰é …æ¼”ç®—å­ã‚’if/elseã¸å¤‰æ›ã—ã€å¥½ã¿ã®è¨˜æ³•ã¸ç°¡å˜ã«è¡Œãæ¥ã§ãã¾ã™ã€‚

Before

```typescript
let message;
if (isLoading) {
  message = "Loading...";
} else {
  message = "Ready";
}
```

After (Convert If/Else to Ternary)

```typescript
const message = isLoading ? "Loading..." : "Ready";
```

### ã‚³ãƒ¼ãƒ‰æ§‹é€ ã®å¤‰æ›´ï¼ˆforãƒ«ãƒ¼ãƒ—ã€switchãªã©ï¼‰

#### Convert For-Loop to ForEach / ForEach to For-Of

ãƒ¬ã‚¬ã‚·ãƒ¼ãªforãƒ«ãƒ¼ãƒ—ã‚’Array.forEach()ã‚„for-ofã¸å¤‰æ›ã—ã€ã‚ˆã‚Šãƒ¢ãƒ€ãƒ³ã§èª­ã¿ã‚„ã™ã„è¨˜æ³•ã¸ç§»è¡Œã—ã¾ã™ã€‚

Before

```typescript
for (let i = 0; i < items.length; i++) {
  handle(items[i]);
}
```

After (Convert For-Loop to ForEach)

```typescript
items.forEach(item => handle(item));
```

After (Convert ForEach to For-Of)

```typescript
for (const item of items) {
  handle(item);
}
```

#### Convert If/Else to Switch / Convert Switch to If/Else

å¤šæ®µif/elseã‚’switchæ–‡ã¸ç½®ãæ›ãˆã‚‹ã“ã¨ã§æ¡ä»¶åˆ†å²ã‚’æ˜ç¢ºåŒ–ã§ãã¾ã™ã€‚é€†ã«switchã‹ã‚‰if/elseã¸æˆ»ã™ã“ã¨ã‚‚å¯èƒ½ã§ã€ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ã«æŸ”è»Ÿæ€§ã‚’ä¸ãˆã¾ã™ã€‚

Before

```typescript
if (userType === "admin") handleAdmin();
else if (userType === "editor") handleEditor();
else handleVisitor();
```

After (Convert If/Else to Switch)

```typescript
switch (userType) {
  case "admin":
    handleAdmin();
    break;
  case "editor":
    handleEditor();
    break;
  default:
    handleVisitor();
}
```

### ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„å¤‰æ•°å®£è¨€ã®æ•´ç†

#### Move Statement Up/Down

ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä¸Šä¸‹ã«ç§»å‹•ã—ã¦ã€ã‚³ãƒ¼ãƒ‰ã®è«–ç†çš„ãªæµã‚Œã‚’æ•´ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Before

```typescript
const a = 1;
const c = 3;
const b = 2;
```

After (Move Statement)

```typescript
const a = 1;
const b = 2;
const c = 3;
```

#### Split Declaration and Initialization / Split Multiple Declarations

å®£è¨€ã¨åˆæœŸåŒ–ã‚’åˆ†é›¢ã—ãŸã‚Šã€ä¸€è¡Œã«è¤‡æ•°æ›¸ã„ã¦ã„ã‚‹å¤‰æ•°å®£è¨€ã‚’åˆ†å‰²ã—ã¦å¯èª­æ€§ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚

Before

```typescript
let x = 10, y = 20;
```

After (Split Multiple Declarations)

```typescript
let x = 10;
let y = 20;
```

#### Convert let to const

å¤‰æ›´ã•ã‚Œã¦ã„ãªã„letå¤‰æ•°ã‚’constã¸å¤‰æ›ã—ã€ä¸å¤‰æ€§ã‚’ç¤ºã—ã¾ã™ã€‚

Before

```typescript
let count = 5;
console.log(count);
```

After (Convert let to const)

```typescript
const count = 5;
console.log(count);
```

### æ–‡å­—åˆ—ã‚„é–¢æ•°å®šç¾©ã®å¤‰æ›

#### Convert to Template Literal

é€£ç¶šã—ãŸæ–‡å­—åˆ—çµåˆã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒ†ãƒ©ãƒ«ã¸å¤‰æ›ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿ã‚„ã™ãã—ã¾ã™ã€‚

Before

```typescript
const greeting = "Hello " + name + ", welcome!";
```

After (Convert to Template Literal)

```typescript
const greeting = `Hello ${name}, welcome!`;
```

#### Convert to Arrow Function

é–¢æ•°å®£è¨€ã‚’ã‚¢ãƒ­ãƒ¼é–¢æ•°ã¸å¤‰æ›ã—ã€ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ã‚’çµ±ä¸€ã—ã¾ã™ã€‚

Before

```typescript
function add(a: number, b: number) {
  return a + b;
}
```

After (Convert to Arrow Function)

```typescript
const add = (a: number, b: number) => a + b;
```

### TypeScriptãªã‚‰ã§ã¯ã®å‹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹é–¢é€£ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

#### Extract Generic Type

æ—¢å­˜ã®å‹ã‚’æ±ç”¨åŒ–ã—ã€ã‚³ãƒ¼ãƒ‰ã®å†åˆ©ç”¨æ€§ã¨æŠ½è±¡åº¦ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚

Before

```typescript
type Person = { name: string; age: number };
```

After (Extract Generic Type)

```typescript
type Entity<T> = { name: string; age: T };
type Person = Entity<number>;
```

#### Extract Interface

ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’è‡ªå‹•ç”Ÿæˆã—ã€æŠ½è±¡åŒ–ã‚„å®Ÿè£…åˆ†é›¢ã‚’ä¿ƒé€²ã—ã¾ã™ã€‚

Before

```typescript
class UserService {
  getUser(id: string) {
    // ...
  }
  saveUser(user: User) {
    // ...
  }
}
```

After (Extract Interface)

```typescript
interface IUserService {
  getUser(id: string): User;
  saveUser(user: User): void;
}

class UserService implements IUserService {
  getUser(id: string) { /* ... */ }
  saveUser(user: User) { /* ... */ }
}
```

#### Create Factory for Constructor

ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã‚’ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã¸æŠ½å‡ºã—ã€newã‚’ç›´æ¥æ„è­˜ã›ãšã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

Before

```typescript
class Car {
  constructor(readonly model: string) {}
}
```

After (Create Factory for Constructor)

```typescript
class Car {
  constructor(readonly model: string) {}
}

function createCar(model: string): Car {
  return new Car(model);
}
```

## ã¾ã¨ã‚

Abracadabraã¯ã€ã€Œä½•ãŒã§ãã‚‹ã®ã‹ã€ã‚’æ˜ç¢ºã«ç¤ºã™ã“ã¨ã§åˆã‚ã¦ãã®ä¾¡å€¤ãŒä¼ã‚ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä¸Šè¨˜ã«æŒ™ã’ãŸã‚ˆã†ãªå…·ä½“çš„ãªæ©Ÿèƒ½ã¯ã€ã™ã¹ã¦ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã€ã‚‚ã—ãã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€ç™ºã§é©ç”¨ã§ãã¾ã™ã€‚

å†—é•·ãªã‚³ãƒ¼ãƒ‰ã‚„è¤‡é›‘ãªæ¡ä»¶åˆ†å²ã‚’ç¬æ™‚ã«æ•´ç†
å‹ã‚„é–¢æ•°ã‚·ã‚°ãƒãƒãƒ£ã‚’ç°¡æ½”åŒ–ãƒ»æ±ç”¨åŒ–
ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ«ãƒ¼ãƒ—ã‚’ãƒ¢ãƒ€ãƒ³ãªåå¾©æ§‹æ–‡ã«æ›¸ãæ›ãˆ
ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–ã‚„æŠ½å‡ºã§ã‚³ãƒ¼ãƒ‰ã®æ„å›³ã‚’æ˜ç­åŒ–
Abracadabraã¯ã€ã“ã†ã—ãŸã€Œã™ãã«ä½¿ãˆã¦æ˜ç­ãªåŠ¹æœãŒå¾—ã‚‰ã‚Œã‚‹ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’æ•°å¤šãæƒãˆã€TypeScriptã‚³ãƒ¼ãƒ‰ã‚’ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸçŠ¶æ…‹ã¸ã¨å°ãã€å³åŠ¹æ€§ã®ã‚ã‚‹å®Ÿç”¨çš„ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

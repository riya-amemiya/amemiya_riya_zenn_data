---
title: "æ¬¡ä¸–ä»£ã®Formatterã€Œdprintã€ã‚’è©¦ã—ã¦ã¿ãŸ"
emoji: "ğŸ™†"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rust", "formatter", "dprint"]
published: true
---

## ã¯ã˜ã‚ã«

ä¿®æ­£ã‚„è¿½åŠ ç­‰ã¯ã‚³ãƒ¡ãƒ³ãƒˆã¾ãŸã¯GitHubã§ç·¨é›†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚

## dprintã¨ã¯

GitHubã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Rustè£½ã®Formatterã§ã™ã€‚
å¯¾å¿œè¨€èªä»¥ä¸‹ã®ãƒªã‚¹ãƒˆã§ã™ã€‚

- TypeScript
- JavaScript
- JSON
- Markdown
- TOML
- Dockerfile
- C#(Roslynã‚’ãƒ©ãƒƒãƒ—)

https://dprint.dev/

## ä½¿ã„æ–¹

å…¬å¼ã‚µã‚¤ãƒˆã«å¾“ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€`dprint init` ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

https://dprint.dev/install/

```bash
dprint init
```

ä½•ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†ã‹èã‹ã‚Œã‚‹ã®ã§ã€ã‚¹ãƒšãƒ¼ã‚¹ã§é¸æŠã—ã¾ã™ã€‚
å¯¾å¿œã™ã‚‹è¨­å®šãŒæ›¸ã‹ã‚ŒãŸ `dprint.json` ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

## TypeScriptã®ä¾‹

ä¸‹è¨˜ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‹ã‚‰è¨­å®šã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€`dprint.json` ã«è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚

https://dprint.dev/playground/#code/Q/language/typescript

```json
{
  "typescript": {
    "lineWidth": 80,
    "indentWidth": 4,
    "useTabs": true,
    "semiColons": "prefer",
    "quoteStyle": "alwaysDouble",
    "quoteProps": "preserve",
    "newLineKind": "lf",
    "useBraces": "whenNotSingleLine",
    "bracePosition": "sameLineUnlessHanging",
    "singleBodyPosition": "maintain",
    "nextControlFlowPosition": "sameLine",
    "trailingCommas": "onlyMultiLine",
    "operatorPosition": "nextLine",
    "preferHanging": false,
    "preferSingleLine": false,
    "arrowFunction.useParentheses": "maintain",
    "binaryExpression.linePerExpression": false,
    "jsx.bracketPosition": "nextLine",
    "jsx.forceNewLinesSurroundingContent": false,
    "jsx.quoteStyle": "preferDouble",
    "jsx.multiLineParens": "prefer",
    "memberExpression.linePerExpression": false,
    "typeLiteral.separatorKind": "semiColon",
    "enumDeclaration.memberSpacing": "maintain",
    "spaceAround": false,
    "spaceSurroundingProperties": true,
    "objectExpression.spaceSurroundingProperties": true,
    "objectPattern.spaceSurroundingProperties": true,
    "typeLiteral.spaceSurroundingProperties": true,
    "binaryExpression.spaceSurroundingBitwiseAndArithmeticOperator": true,
    "commentLine.forceSpaceAfterSlashes": true,
    "constructor.spaceBeforeParentheses": false,
    "constructorType.spaceAfterNewKeyword": false,
    "constructSignature.spaceAfterNewKeyword": false,
    "doWhileStatement.spaceAfterWhileKeyword": true,
    "exportDeclaration.spaceSurroundingNamedExports": true,
    "forInStatement.spaceAfterForKeyword": true,
    "forOfStatement.spaceAfterForKeyword": true,
    "forStatement.spaceAfterForKeyword": true,
    "forStatement.spaceAfterSemiColons": true,
    "functionDeclaration.spaceBeforeParentheses": false,
    "functionExpression.spaceBeforeParentheses": false,
    "functionExpression.spaceAfterFunctionKeyword": false,
    "getAccessor.spaceBeforeParentheses": false,
    "ifStatement.spaceAfterIfKeyword": true,
    "importDeclaration.spaceSurroundingNamedImports": true,
    "jsxSelfClosingElement.spaceBeforeSlash": true,
    "jsxExpressionContainer.spaceSurroundingExpression": false,
    "method.spaceBeforeParentheses": false,
    "setAccessor.spaceBeforeParentheses": false,
    "taggedTemplate.spaceBeforeLiteral": false,
    "typeAnnotation.spaceBeforeColon": false,
    "typeAssertion.spaceBeforeExpression": true,
    "whileStatement.spaceAfterWhileKeyword": true,
    "ignoreNodeCommentText": "dprint-ignore",
    "ignoreFileCommentText": "dprint-ignore-file"
  },
  "json": {},
  "markdown": {},
  "toml": {},
  "includes": [
    "**/*.{ts,tsx,js,jsx,cjs,mjs,json,md,toml}"
  ],
  "excludes": [
    "**/node_modules",
    "**/*-lock.json"
  ],
  "plugins": [
    "https://plugins.dprint.dev/typescript-0.83.0.wasm",
    "https://plugins.dprint.dev/json-0.17.0.wasm",
    "https://plugins.dprint.dev/markdown-0.15.2.wasm",
    "https://plugins.dprint.dev/toml-0.5.4.wasm"
  ]
}
```

`dprint fmt` ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãã¾ã™ãŒã€VSCodeã®æ‹¡å¼µæ©Ÿèƒ½ã‚’ä½¿ã†ã¨ã€ä¿å­˜æ™‚ã«è‡ªå‹•ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ãã‚Œã¾ã™ã€‚

https://marketplace.visualstudio.com/items?itemName=dprint.dprint

```json
{
  "editor.defaultFormatter": "dprint.dprint",
  "editor.formatOnSave": true,
  // or specify per language, for example
  "[javascript]": {
    "editor.defaultFormatter": "dprint.dprint",
    "editor.formatOnSave": true
  }
}
```

Rustã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€ã‚ã¡ã‚ƒãã¡ã‚ƒé€Ÿã„ã§ã™ã€‚

## ã¾ã¨ã‚

TypeScriptã®ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã¯ã€Romeã‚’ä½¿ã£ã¦ã„ãŸã®ã§ã™ãŒã€ã‚³ãƒ”ãƒšã—ãŸã¨ãã«è¬ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã†ã®ã§ã€dprintã«å¤‰æ›´ã—ã¾ã—ãŸã€‚
Prettierä¸€å¼·æ™‚ä»£ãŒçµ‚ã‚ã£ãŸã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚
ã“ã‚Œã‹ã‚‰ã® `dprint` ã®æ´»èºãŒæ¥½ã—ã¿ã§ã™ã€‚

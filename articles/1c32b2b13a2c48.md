---
title: "Firebase App Hostingè©¦ã—ã¦ã¿ãŸ"
emoji: "ğŸ”¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["firebase", "angular"]
published: true
publication_name: "gmomedia"
---

## ã¯ã˜ã‚ã«

:::message
ä¿®æ­£ã‚„è¿½åŠ ç­‰ã¯ã‚³ãƒ¡ãƒ³ãƒˆã¾ãŸã¯GitHubã§ç·¨é›†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚
:::

## Firebase App Hostingã¨ã¯

è¨˜äº‹åŸ·ç­†ç¾åœ¨ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æä¾›ã•ã‚Œã¦ã„ã‚‹æ©Ÿèƒ½ã§ã™ã€‚
GitHubã¨é€£æºã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã ã‘ã§Firebase App Hostingã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚
Cloud Buildã§ãƒ“ãƒ«ãƒ‰ã•ã‚Œã€Cloud Runã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã€Cloud CDNã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹æ§‹æˆãŒè‡ªå‹•ã§è¡Œã‚ã‚Œã¾ã™ã€‚
ç§ã®ã‚ˆã†ãªGCPåˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ã®ã§ã€è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
å¯¾å¿œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯Angularã¨Next.jsã§ã™ãŒã€ä»Šå›ã¯Angularå‹‰å¼·ç”¨ã«ä½œã£ãŸã„ã„æ„Ÿã˜ã®ã‚¢ãƒ—ãƒªãŒã‚ã£ãŸã®ã§Angularã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚

https://github.com/riya-amemiya/angular-study

## ã‚„ã‚Šæ–¹

åˆå›ã®ã‚¢ãƒ—ãƒªã¯Firebaseã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è¡Œãˆã¾ã™ã€‚
2ã¤ç›®ä»¥é™ã¯Firebase CLIã‚’ä½¿ã„ã¾ã™ã€‚

### GitHubã¨ã®é€£æº

ã¾ãšã¯GitHubã¨ã®é€£æºã—ã¦ã€å–ã‚Šè¾¼ã‚€ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã—ã¾ã™ã€‚

![](/images/1c32b2b13a2c48/1.png)

### å¯¾è±¡ã®ãƒ–ãƒ©ãƒ³ãƒã‚’é¸æŠ

è‡ªå‹•ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã‚’æœ‰åŠ¹ã«ã—ã¦ãŠãã¨ã€å¯¾è±¡ã®ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã‚‰è‡ªå‹•ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚

![](/images/1c32b2b13a2c48/2.png)

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®è¨­å®š

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®idã‚’è¨­å®šã—ã¾ã™ã€‚
ã“ã‚ŒãŒCloud Runã®ã‚µãƒ¼ãƒ“ã‚¹åã«ãªã‚‹ã®ã§ã€ã‚ã‹ã‚Šã‚„ã™ã„åå‰ã‚’è¨­å®šã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

![](/images/1c32b2b13a2c48/3.png)

### ãƒ‡ãƒ—ãƒ­ã‚¤

æœ€å¾Œã«ã€Œçµ‚äº†ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå§‹ã¾ã‚Šã¾ã™ã€‚

![](/images/1c32b2b13a2c48/4.png)

Cloud Buildã§ãƒ“ãƒ«ãƒ‰ã•ã‚Œã€Cloud Runã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚

## æ³¨æ„ç‚¹

Bunã«ã¯å¯¾å¿œã—ã¦ã„ãªã„ã®ã§ã€Bunã‚’ã‚„ã‚ã‚‹ã‹yarn.lockã‚’å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```toml:bunfig.toml
[install.lockfile]
print = "yarn"
```

ã‚‚ã—ãã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§yarn.lockã‚’å‡ºåŠ›ã§ãã¾ã™ã€‚

```bash
bun install -y
```

Angularã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€application builderä»¥å¤–ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

```txt
Only the Angular application builder is supported. Please refer to https://angular.dev/tools/cli/esbuild#for-existing-applications guide to upgrade your builder to the Angular application builder.
```

ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§è¡Œã„ã¾ã™ã€‚

```bash
ng update @angular/cli --name use-application-builder
```

https://angular.dev/tools/cli/esbuild#for-existing-applications

## ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€ã“ã‚“ãªæ„Ÿã˜ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

![](/images/1c32b2b13a2c48/dashboard.png)

å³ä¸Šã®ç¸¦3ç‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãã‚Œãã‚Œã®ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

## ä¸ä¾¿ãªç‚¹

Firebaseå´ã®ç®¡ç†ç”»é¢ã‹ã‚‰ã¯è¨­å®šã‚’ã„ã˜ã‚Œãªã„ã®ã¯ã¡ã‚‡ã£ã¨ä¸ä¾¿ã§ã™ã­ã€‚
Firebaseå´ã‹ã‚‰ã§ãã‚‹ã“ã¨ã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®šã¨æ‰‹å‹•ã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤(ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ)ã®ã¿ã§ã™ã€‚
å¤šãã®æ“ä½œã¯CLIã§è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```txt
  apphosting:backends:list [options]                             list Firebase App Hosting backends
  apphosting:backends:create [options]                           create a Firebase App Hosting backend
  apphosting:backends:get [options] <backend>                    print info about a Firebase App Hosting backend
  apphosting:backends:delete [options] <backend>                 delete a Firebase App Hosting backend
  apphosting:secrets:set [options] <secretName>                  create or update a secret for use in Firebase App Hosting
  apphosting:secrets:grantaccess [options] <secretName>          grant service accounts permissions to the provided secret
  apphosting:secrets:describe <secretName>                       Get metadata for secret and its versions.
  apphosting:secrets:access <secretName[@version]>               Access secret value given secret and its version. Defaults to accessing the latest version.
```

## ã¾ã¨ã‚

Angularã®ã‚¢ãƒ—ãƒªã‚’Firebase App Hostingã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã—ãŸã€‚
ç®¡ç†ç”»é¢ã‹ã‚‰ãƒœã‚¿ãƒ³ã‚’ã½ã¡ã½ã¡ã™ã‚‹ã ã‘ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ã®ã§ã€ã¨ã¦ã‚‚ç°¡å˜ã§ã—ãŸã€‚
æ§‹æˆã‚‚ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§ã¯ãªãã€æ™®é€šã®GCPã®ã‚µãƒ¼ãƒ“ã‚¹ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã®ã§ã€è‡ªç”±åº¦ã‚‚é«˜ã„ã§ã™ã€‚
Next.jsã‚„Angularã®æ–°ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã¨ã—ã¦å…¨ç„¶ã‚ã‚Šã ã¨æ€ã„ã¾ã™ã€‚
